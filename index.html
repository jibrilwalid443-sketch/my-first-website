<!DOCTYPE html>
<html>
<head>
    <title>My First Website</title>
<link rel="stylesheet" href="style.css">
<link rel="manifest" href="manifest.json">
    
</head>

<body>
    <h1>Hello, World!</h1>
    <p>This is my first website.</p>
    <img src="https://picsum.photos/300" alt="My image">
    <button onclick="sayHello()">Click Me</button>
   <p>Created by Walid</p>
   <hr>

<div class="todo-container">
  <h2>My To-Do App</h2>

  <input type="text" id="taskInput" placeholder="Enter a task">
  <br><br>
  <button onclick="addTask()">Add Task</button>

  <ul id="taskList"></ul>
</div>
    <script>
       // Load tasks when page loads
  document.addEventListener("DOMContentLoaded", loadTasks);

  function sayHello() {
    alert("Welcome to my first website!");
  }

  function addTask() {
    let taskInput = document.getElementById("taskInput");
    let task = taskInput.value.trim();

    if (task === "") {
      alert("Please enter a task");
      return;
    }

    let tasks = getTasks();
    tasks.push({
  text: task,
  date: taskDate,
  completed: false
});
    localStorage.setItem("tasks", JSON.stringify(tasks));

    taskInput.value = "";
dateInput.value = "";
    loadTasks();
  }

 function deleteTask(index) {
  let tasks = getTasks();
  tasks.splice(index, 1);
  localStorage.setItem("tasks", JSON.stringify(tasks));
  loadTasks();
}

function toggleTask(index) {
  let tasks = getTasks();
  tasks[index].completed = !tasks[index].completed;
  localStorage.setItem("tasks", JSON.stringify(tasks));
  loadTasks();
}

function loadTasks() {
  let taskList = document.getElementById("taskList");
  taskList.innerHTML = "";

  let tasks = getTasks();

  tasks.forEach((task, index) => {
    let li = document.createElement("li");

    if (task.completed) {
      li.style.textDecoration = "line-through";
    }

   li.innerHTML = `
  ${task.text}
  <button onclick="toggleTask(${index})">
    ${task.completed ? "Undo" : "Done"}
  </button>
  <button onclick="deleteTask(${index})">Delete</button>
`; 
    taskList.appendChild(li);
  });
} 
      
    
  function getTasks() {
    return JSON.parse(localStorage.getItem("tasks")) || [];
        }
        
        
        
    </script>
    <script>
  if ("serviceWorker" in navigator) {
    window.addEventListener("load", () => {
      navigator.serviceWorker
        .register("sw.js")
        .then(() => console.log("Service Worker registered"))
        .catch(err => console.log("SW error:", err));
    });
  }
    </script>
</body>
</html>
